const e=/(^\d{8}(0\d|10|11|12)([0-2]\d|30|31)\d{3}$)|(^\d{6}(18|19|20)\d{2}(0\d|10|11|12)([0-2]\d|30|31)\d{3}(\d|X|x)$)/,t=t=>!!t&&e.test(t),n={getBirthday:e=>{if(!t(e))throw new Error("参数错误");const n=e.substring(6,14);return[n.substring(0,4),n.substring(4,6),n.substring(6)].join("-")},getYear:e=>{if(!t(e))throw new Error("参数错误");const r=n.getBirthday(e);return globalThis.parseInt(r.split("-")[0])},getMonth:e=>{if(!t(e))throw new Error("参数错误");const r=n.getBirthday(e);return globalThis.parseInt(r.split("-")[1])},getDate:e=>{if(!t(e))throw new Error("参数错误");const r=n.getBirthday(e);return globalThis.parseInt(r.split("-")[2])},getAge:e=>{if(!t(e))throw new Error("参数错误");const r=n.getYear(e),i=n.getMonth(e),l=n.getDate(e),o=new Date,s=o.getFullYear(),c=o.getMonth()+1,a=o.getDate();let d=s-r;return(c<i||c===i&&a<l)&&d--,d},getSexNum:e=>{if(!t(e))throw new Error("参数错误");const n=e.charAt(16);return globalThis.parseInt(n)%2==1?1:0},getSex:e=>1===n.getSexNum(e)?"男":"女",getInfo:e=>{if(!t(e))throw new Error("参数错误");e.substring(0,2),e.substring(2,4),e.substring(4,6),e.substring(14,16),e.charAt(17);const r={};return r.birthday=n.getBirthday(e),r.year=n.getYear(e),r.month=n.getMonth(e),r.date=n.getDate(e),r.age=n.getAge(e),r.sex=n.getSex(e),r.sexNum=n.getSexNum(e),r}},r=Object.prototype.toString,i=e=>"[object Object]"===r.call(e),l={deepCopy:e=>JSON.parse(JSON.stringify(e)),copyValue:(e,t)=>{if(!l.isObject(e)||!l.isObject(t))throw new Error("参数异常");Object.keys(e).forEach((n=>{Reflect.has(t,n)&&(e[n]=t[n])}))},isObject:i,isEmpty:e=>i(e)&&0===Object.keys(e).length,emptyStrToNull:e=>{if(!i(e))return e;const t=JSON.parse(JSON.stringify(e));if("object"==typeof t)for(let e of Object.keys(t))"string"==typeof t[e]&&""===t[e]&&(t[e]=null);return t}},o=["year","month","day","hour","minute","second"],s={format:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"YYYY-MM-DD HH:mm:ss",n=new Date(e);if("string"==typeof e&&e.length==="YYYY-MM-DD".length&&n.setHours(0,0,0,0),!(n instanceof Date))throw new Error("参数有误");if(t){let e=o.find((e=>e===t));if(e)switch(e){case"year":t="YYYY";break;case"month":t="YYYY-MM";break;case"day":t="yyyy-MM-dd";break;case"hour":t="YYYY-MM-DD HH";break;case"minute":t="YYYY-MM-DD HH:mm";break;default:t="YYYY-MM-DD HH:mm:ss"}}else t="YYYY-MM-DD HH:mm:ss";let r=n.getFullYear();r<1900&&(r+=1900);let i=n.getMonth()+1;i<10&&(i="0"+i);let l=n.getDate();l<10&&(l="0"+l);let s=n.getHours();s<10&&(s="0"+s);let c=n.getMinutes();c<10&&(c="0"+c);let a=n.getSeconds();a<10&&(a="0"+a);const d=r+"-"+i+"-"+l+" "+s+":"+c+":"+a,g=d.split(" "),h=g[0].split("-"),u=g[1].split(".")[0].split(":"),f=/yyyy|YYYY/,p=/MM/,x=/dd|DD/,m=/HH/,b=/mm/,y=/ss/;return t.replace(f,h[0]).replace(p,h[1]).replace(x,h[2]).replace(m,u[0]).replace(b,u[1]).replace(y,u[2])},cnWeek:e=>{if("string"==typeof e&&(e=new Date(e)),!(e instanceof Date))throw new Error("参数有误");const t=e.getDay();return new Map([[0,"日"],[1,"一"],[2,"二"],[3,"三"],[4,"四"],[5,"五"],[6,"六"]]).get(t)},realMonth:e=>{if("string"==typeof e&&(e=new Date(e)),!(e instanceof Date))throw new Error("参数有误");return e.getMonth()+1},withRealMonth:(e,t)=>{if(t<1||t>31)throw new Error("日期越界");if("string"==typeof e&&(e=new Date(e)),!(e instanceof Date))throw new Error("参数有误");let n=new Date(e);return n.setMonth(t-1),n}},c={uuid:()=>{const e="0123456789abcdef",t=e.length;return"xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx".replace(/x/g,(n=>e.charAt(Math.floor(Math.random()*t))))},uuid32:()=>c.uuid().replace(/-/g,"")},a=(e,t)=>{if(!e)return!1;const n=e.lastIndexOf(".");if(n<0)return!1;const r=e.substring(n);return!!t.includes(r.toLowerCase())},d={isImg:e=>a(e,[".jpg",".jpeg",".png",".gif"]),isPdf:e=>a(e,[".pdf"])},g="id",h="parentId",u="children",f=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:g,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:h,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:u;const l=t.filter((t=>t[r]===e[n]));if(l.length&&(e[i]=l),0!==l.length)for(let e of l)f(e,t,n,r,i)},p=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];const{childrenField:r=u}=t;return e.forEach((e=>{n.push(e);const i=e[r];i&&i.length&&p(i,t,n)})),n},x=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!e)throw new Error("id 参数错误");if(!t||!t.length)throw new Error("tree 参数错误");const{idFieldName:r=g,childrenFieldName:i=u}=n;let l=null;for(let n of t)n[r]===e&&(l=n);if(l)return l;for(let r of t)if(r.children&&r.children.length&&(l=x(e,r[i],n),l))return l;return l},m=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];const{idField:i=g,parentIdField:l=h,childrenField:o=u}=n,s=x(e[l],t,{idFieldName:i,childrenFieldName:o});return s&&(r.push(s),m(s,t,n,r)),r},b=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];const{childrenField:r=u}=t;if(!e||!e[r])return n;const i=e[r];if(i&&i.length)for(let e of i)n.push(e),b(e,t,n);return n},y={toTree:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{idField:r=g,parentIdField:i=h,childrenField:l=u}=n;let o=e.filter((e=>e[i]===t));for(let t of o)f(t,e,r,i,l);return o},toList:p,findNode:x,ancestor:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{idField:r=g,childrenField:i=u}=n,l=x(e,t,{idFieldName:r,childrenFieldName:i});return l?m(l,t,n):[]},descendant:b},w=Object.prototype.toString,Y=e=>"[object Object]"===w.call(e),D={isArray:e=>"[object Array]"===w.call(e),isObject:Y,isString:e=>"[object String]"===w.call(e),isNumber:e=>"[object Number]"===w.call(e)&&e==e,isRegExp:e=>"[object RegExp]"===w.call(e),isFile:e=>"[object File]"===w.call(e),isBlob:e=>"[object Blob]"===w.call(e),isUndefined:e=>void 0===e,isNull:e=>null===e,isFunction:e=>"function"==typeof e,isEmptyObject:e=>Y(e)&&0===Object.keys(e).length,isExist:e=>!(!e&&0!==e)};function M(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class E{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;M(this,"sizes",[]),M(this,"total",0),M(this,"size",10),M(this,"current",1),M(this,"currentChange",(e=>{e()})),M(this,"sizeChange",(e=>{this.current=1,e()})),this.size=e}get page(){return this.current}set page(e){this.current=e}get rows(){return this.size}set rows(e){this.size=e}}const j={build:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;return new E(e)},pageData:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{current:r,size:i}=e,{withIndex:l=!1,indexField:o="index"}=n;if(!r||!i)return[];const s=(r-1)*i,c=s+i,a=t.slice(s,c);if(l){let e=[];for(let t=s+1;t<c+1;t++)e.push(t);a.forEach(((t,n)=>{t[o]=e[n]}))}return a},Page:E},v="1.23452384164.123412415",F=e=>{const t=document.getElementById(v);null!==t&&document.body.removeChild(t);const n=document.createElement("canvas");n.width=200,n.height=120;const r=n.getContext("2d");r.rotate(-20*Math.PI/180),r.translate(-30,20),r.font="16px Vedana",r.fillStyle="rgba(200, 200, 200, 0.20)",r.textAlign="left",r.textBaseline="middle";let i=0,l=n.height/2,o=0;for(let t=0;t<e.length;t++)i+=r.measureText(e[t]).width,i>200&&(r.fillText(e.substring(o,t),10,l),l+=18,i=0,o=t),t===e.length-1&&r.fillText(e.substring(o,t+1),10,l);const s=document.createElement("div");return s.id=v,s.style.pointerEvents="none",s.style.top="25px",s.style.left="25px",s.style.position="fixed",s.style.zIndex="100000",s.style.width=document.documentElement.clientWidth-50+"px",s.style.height=document.documentElement.clientHeight-50+"px",s.style.background="url("+n.toDataURL("image/png")+") center 50% repeat",document.body.appendChild(s),v},O={setWatermark:e=>{const t=document.getElementById(v);e&&!t&&(F(e),window.onresize=()=>{F(e)})},outWatermark:()=>{const e=document.getElementById(v);e&&document.body.removeChild(e)}},I={IDCardUtils:n,DateUtils:s,ObjectUtils:l,UUIDUtils:c,FileUtils:d,TreeUtils:y,IsUtils:D,PageUtils:j,DomUtils:O};export{s as DateUtils,O as DomUtils,d as FileUtils,n as IDCardUtils,D as IsUtils,l as ObjectUtils,j as PageUtils,y as TreeUtils,c as UUIDUtils,I as default};
