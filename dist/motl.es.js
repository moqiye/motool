const e=/(^\d{8}(0\d|10|11|12)([0-2]\d|30|31)\d{3}$)|(^\d{6}(18|19|20)\d{2}(0\d|10|11|12)([0-2]\d|30|31)\d{3}(\d|X|x)$)/,t=t=>!!t&&e.test(t),r={getBirthday:e=>{if(!t(e))throw new Error("参数错误");const r=e.substring(6,14);return[r.substring(0,4),r.substring(4,6),r.substring(6)].join("-")},getYear:e=>{if(!t(e))throw new Error("参数错误");const n=r.getBirthday(e);return globalThis.parseInt(n.split("-")[0])},getMonth:e=>{if(!t(e))throw new Error("参数错误");const n=r.getBirthday(e);return globalThis.parseInt(n.split("-")[1])},getDate:e=>{if(!t(e))throw new Error("参数错误");const n=r.getBirthday(e);return globalThis.parseInt(n.split("-")[2])},getAge:e=>{if(!t(e))throw new Error("参数错误");const n=r.getYear(e),i=r.getMonth(e),o=r.getDate(e),l=new Date,s=l.getFullYear(),a=l.getMonth()+1,c=l.getDate();let d=s-n;return(a<i||a===i&&c<o)&&d--,d},getSexNum:e=>{if(!t(e))throw new Error("参数错误");const r=e.charAt(16);return globalThis.parseInt(r)%2==1?1:0},getSex:e=>1===r.getSexNum(e)?"男":"女",getInfo:e=>{if(!t(e))throw new Error("参数错误");e.substring(0,2),e.substring(2,4),e.substring(4,6),e.substring(14,16),e.charAt(17);const n={};return n.birthday=r.getBirthday(e),n.year=r.getYear(e),n.month=r.getMonth(e),n.date=r.getDate(e),n.age=r.getAge(e),n.sex=r.getSex(e),n.sexNum=r.getSexNum(e),n}},n=Object.prototype.toString,i=e=>"[object Object]"===n.call(e),o={deepCopy:e=>JSON.parse(JSON.stringify(e)),copyValue:(e,t)=>{if(!o.isObject(e)||!o.isObject(t))throw new Error("参数异常");Object.keys(e).forEach((r=>{Reflect.has(t,r)&&(e[r]=t[r])}))},isObject:i,isEmpty:e=>i(e)&&0===Object.keys(e).length},l=["year","month","day","hour","minute","second"],s={format:(e,t="YYYY-MM-DD HH:mm:ss")=>{console.log("date ",e);let r=new Date(e);if("string"==typeof e&&e.length==="YYYY-MM-DD".length&&r.setHours(0,0,0,0),console.log("d ",r),!(r instanceof Date))throw new Error("参数有误");if(t){let e=l.find((e=>e===t));if(e)switch(e){case"year":t="YYYY";break;case"month":t="YYYY-MM";break;case"day":t="yyyy-MM-dd";break;case"hour":t="YYYY-MM-DD HH";break;case"minute":t="YYYY-MM-DD HH:mm";break;default:t="YYYY-MM-DD HH:mm:ss"}}else t="YYYY-MM-DD HH:mm:ss";let n=r.getFullYear();n<1900&&(n+=1900);let i=r.getMonth()+1;i<10&&(i="0"+i);let o=r.getDate();o<10&&(o="0"+o);let s=r.getHours();console.log("hour ",s),s<10&&(s="0"+s);let a=r.getMinutes();a<10&&(a="0"+a);let c=r.getSeconds();c<10&&(c="0"+c);const d=n+"-"+i+"-"+o+" "+s+":"+a+":"+c;console.log("datetimeStr ",d);const g=d.split(" "),h=g[0].split("-"),u=g[1].split(".")[0].split(":");return t.replace(/yyyy|YYYY/,h[0]).replace(/MM/,h[1]).replace(/dd|DD/,h[2]).replace(/HH/,u[0]).replace(/mm/,u[1]).replace(/ss/,u[2])},cnWeek:e=>{if("string"==typeof e&&(e=new Date(e)),!(e instanceof Date))throw new Error("参数有误");const t=e.getDay();return new Map([[0,"日"],[1,"一"],[2,"二"],[3,"三"],[4,"四"],[5,"五"],[6,"六"]]).get(t)},realMonth:e=>{if("string"==typeof e&&(e=new Date(e)),!(e instanceof Date))throw new Error("参数有误");return e.getMonth()+1},withRealMonth:(e,t)=>{if(t<1||t>31)throw new Error("日期越界");if("string"==typeof e&&(e=new Date(e)),!(e instanceof Date))throw new Error("参数有误");let r=new Date(e);return r.setMonth(t-1),r}},a={uuid:()=>{const e="0123456789abcdef",t=e.length;return"xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx".replace(/x/g,(r=>e.charAt(Math.floor(Math.random()*t))))},uuid32:()=>a.uuid().replace(/-/g,"")},c=(e,t)=>{if(!e)return!1;const r=e.lastIndexOf(".");if(r<0)return!1;const n=e.substring(r);return!!t.includes(n.toLowerCase())},d={isImg:e=>c(e,[".jpg",".jpeg",".png",".gif"]),isPdf:e=>c(e,[".pdf"])},g=(e,t,r="id",n="parentId",i="children")=>{const o=t.filter((t=>t[n]===e[r]));if(o.length&&(e[i]=o),0!==o.length)for(let e of o)g(e,t,r,n,i)},h=(e,t={childrenField:"children"},r=[])=>(e.forEach((e=>{r.push(e);const n=e[t.childrenField];n&&n.length&&h(n,t,r)})),r),u=(e,t,r={idFieldName:"id",childrenFieldName:"children"})=>{if(!e)throw new Error("id 参数错误");if(!t||!t.length)throw new Error("tree 参数错误");const{idFieldName:n="id",childrenFieldName:i="children"}=r;let o=null;for(let r of t)r[n]===e&&(o=r);if(o)return o;for(let r of t)if(r.children?.length&&(o=u(e,r[i]),o))return o;return o},f={toTree:(e,t=null,r={idField:"id",parentIdField:"parentId",childrenField:"children"})=>{const{idField:n,parentIdField:i,childrenField:o}=r;let l=e.filter((e=>e[i]===t));for(let t of l)g(t,e,n||"id",i||"parentId",o||"children");return l},toList:h,findNode:u},p=Object.prototype.toString,x=e=>"[object Object]"===p.call(e),b={isArray:e=>"[object Array]"===p.call(e),isObject:x,isString:e=>"[object String]"===p.call(e),isNumber:e=>"[object Number]"===p.call(e)&&e==e,isRegExp:e=>"[object RegExp]"===p.call(e),isFile:e=>"[object File]"===p.call(e),isBlob:e=>"[object Blob]"===p.call(e),isUndefined:e=>void 0===e,isNull:e=>null===e,isFunction:e=>"function"==typeof e,isEmptyObject:e=>x(e)&&0===Object.keys(e).length,isExist:e=>!(!e&&0!==e)},Y={IDCardUtils:r,DateUtils:s,ObjectUtils:o,UUIDUtils:a,FileUtils:d,TreeUtils:f,IsUtils:b};export{s as DateUtils,d as FileUtils,r as IDCardUtils,b as IsUtils,o as ObjectUtils,f as TreeUtils,a as UUIDUtils,Y as default};
