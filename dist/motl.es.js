const e=/(^\d{8}(0\d|10|11|12)([0-2]\d|30|31)\d{3}$)|(^\d{6}(18|19|20)\d{2}(0\d|10|11|12)([0-2]\d|30|31)\d{3}(\d|X|x)$)/,t=t=>!!t&&e.test(t),r={getBirthday:e=>{if(!t(e))throw new Error("参数错误");const r=e.substring(6,14);return[r.substring(0,4),r.substring(4,6),r.substring(6)].join("-")},getYear:e=>{if(!t(e))throw new Error("参数错误");const n=r.getBirthday(e);return globalThis.parseInt(n.split("-")[0])},getMonth:e=>{if(!t(e))throw new Error("参数错误");const n=r.getBirthday(e);return globalThis.parseInt(n.split("-")[1])},getDate:e=>{if(!t(e))throw new Error("参数错误");const n=r.getBirthday(e);return globalThis.parseInt(n.split("-")[2])},getAge:e=>{if(!t(e))throw new Error("参数错误");const n=r.getYear(e),i=r.getMonth(e),l=r.getDate(e),o=new Date,s=o.getFullYear(),a=o.getMonth()+1,c=o.getDate();let d=s-n;return(a<i||a===i&&c<l)&&d--,d},getSexNum:e=>{if(!t(e))throw new Error("参数错误");const r=e.charAt(16);return globalThis.parseInt(r)%2==1?1:0},getSex:e=>1===r.getSexNum(e)?"男":"女",getInfo:e=>{if(!t(e))throw new Error("参数错误");e.substring(0,2),e.substring(2,4),e.substring(4,6),e.substring(14,16),e.charAt(17);const n={};return n.birthday=r.getBirthday(e),n.year=r.getYear(e),n.month=r.getMonth(e),n.date=r.getDate(e),n.age=r.getAge(e),n.sex=r.getSex(e),n.sexNum=r.getSexNum(e),n}},n=Object.prototype.toString,i=e=>"[object Object]"===n.call(e),l={deepCopy:e=>JSON.parse(JSON.stringify(e)),copyValue:(e,t)=>{if(!l.isObject(e)||!l.isObject(t))throw new Error("参数异常");Object.keys(e).forEach((r=>{Reflect.has(t,r)&&(e[r]=t[r])}))},isObject:i,isEmpty:e=>i(e)&&0===Object.keys(e).length},o=["year","month","day","hour","minute","second"],s={format:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"YYYY-MM-DD HH:mm:ss",r=new Date(e);if("string"==typeof e&&e.length==="YYYY-MM-DD".length&&r.setHours(0,0,0,0),!(r instanceof Date))throw new Error("参数有误");if(t){let e=o.find((e=>e===t));if(e)switch(e){case"year":t="YYYY";break;case"month":t="YYYY-MM";break;case"day":t="yyyy-MM-dd";break;case"hour":t="YYYY-MM-DD HH";break;case"minute":t="YYYY-MM-DD HH:mm";break;default:t="YYYY-MM-DD HH:mm:ss"}}else t="YYYY-MM-DD HH:mm:ss";let n=r.getFullYear();n<1900&&(n+=1900);let i=r.getMonth()+1;i<10&&(i="0"+i);let l=r.getDate();l<10&&(l="0"+l);let s=r.getHours();s<10&&(s="0"+s);let a=r.getMinutes();a<10&&(a="0"+a);let c=r.getSeconds();c<10&&(c="0"+c);const d=n+"-"+i+"-"+l+" "+s+":"+a+":"+c,g=d.split(" "),h=g[0].split("-"),u=g[1].split(".")[0].split(":"),f=/yyyy|YYYY/,p=/MM/,x=/dd|DD/,b=/HH/,Y=/mm/,w=/ss/;return t.replace(f,h[0]).replace(p,h[1]).replace(x,h[2]).replace(b,u[0]).replace(Y,u[1]).replace(w,u[2])},cnWeek:e=>{if("string"==typeof e&&(e=new Date(e)),!(e instanceof Date))throw new Error("参数有误");const t=e.getDay();return new Map([[0,"日"],[1,"一"],[2,"二"],[3,"三"],[4,"四"],[5,"五"],[6,"六"]]).get(t)},realMonth:e=>{if("string"==typeof e&&(e=new Date(e)),!(e instanceof Date))throw new Error("参数有误");return e.getMonth()+1},withRealMonth:(e,t)=>{if(t<1||t>31)throw new Error("日期越界");if("string"==typeof e&&(e=new Date(e)),!(e instanceof Date))throw new Error("参数有误");let r=new Date(e);return r.setMonth(t-1),r}},a={uuid:()=>{const e="0123456789abcdef",t=e.length;return"xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx".replace(/x/g,(r=>e.charAt(Math.floor(Math.random()*t))))},uuid32:()=>a.uuid().replace(/-/g,"")},c=(e,t)=>{if(!e)return!1;const r=e.lastIndexOf(".");if(r<0)return!1;const n=e.substring(r);return!!t.includes(n.toLowerCase())},d={isImg:e=>c(e,[".jpg",".jpeg",".png",".gif"]),isPdf:e=>c(e,[".pdf"])},g=function e(t,r){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"id",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"parentId",l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"children";const o=r.filter((e=>e[i]===t[n]));if(o.length&&(t[l]=o),0!==o.length)for(let t of o)e(t,r,n,i,l)},h={toTree:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{idField:"id",parentIdField:"parentId",childrenField:"children"};const{idField:n,parentIdField:i,childrenField:l}=r;let o=e.filter((e=>e[i]===t));for(let t of o)g(t,e,n||"id",i||"parentId",l||"children");return o},toList:function e(t){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{childrenField:"children"},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return t.forEach((t=>{n.push(t);const i=t[r.childrenField];i&&i.length&&e(i,r,n)})),n},findNode:function e(t,r){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{idFieldName:"id",childrenFieldName:"children"};if(!t)throw new Error("id 参数错误");if(!r||!r.length)throw new Error("tree 参数错误");const{idFieldName:i="id",childrenFieldName:l="children"}=n;let o=null;for(let e of r)e[i]===t&&(o=e);if(o)return o;for(let n of r)if(n.children&&n.children.length&&(o=e(t,n[l]),o))return o;return o}},u=Object.prototype.toString,f=e=>"[object Object]"===u.call(e),p={isArray:e=>"[object Array]"===u.call(e),isObject:f,isString:e=>"[object String]"===u.call(e),isNumber:e=>"[object Number]"===u.call(e)&&e==e,isRegExp:e=>"[object RegExp]"===u.call(e),isFile:e=>"[object File]"===u.call(e),isBlob:e=>"[object Blob]"===u.call(e),isUndefined:e=>void 0===e,isNull:e=>null===e,isFunction:e=>"function"==typeof e,isEmptyObject:e=>f(e)&&0===Object.keys(e).length,isExist:e=>!(!e&&0!==e)},x={IDCardUtils:r,DateUtils:s,ObjectUtils:l,UUIDUtils:a,FileUtils:d,TreeUtils:h,IsUtils:p};export{s as DateUtils,d as FileUtils,r as IDCardUtils,p as IsUtils,l as ObjectUtils,h as TreeUtils,a as UUIDUtils,x as default};
